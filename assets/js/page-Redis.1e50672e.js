(window.webpackJsonp=window.webpackJsonp||[]).push([[70],{688:function(t,s,a){"use strict";a.r(s);var i=a(1),e=Object(i.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"redis"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redis"}},[t._v("#")]),t._v(" Redis")]),t._v(" "),a("blockquote",[a("p",[t._v("本系列以 Redis 7.0 作为安装版本进行知识点梳理，以 6.0 版本为分界线，前后相差还是挺大的。")])]),t._v(" "),a("p",[t._v("Redis 是 C 语言开发的一个开源高性能键值对的内存数据库，可以用来做数据库、缓存、消息中间件等场景，是一种 NoSQL（not-only sql，非关系型数据库）的数据库。")]),t._v(" "),a("hr"),t._v(" "),a("p",[a("strong",[t._v("Redis 里程碑")]),t._v("：")]),t._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("svg",{attrs:{id:"SvgjsSvg1006",width:"704.6000061035156",height:"238.99998474121094",xmlns:"http://www.w3.org/2000/svg",version:"1.1","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:svgjs":"http://svgjs.com/svgjs"}},[a("defs",{attrs:{id:"SvgjsDefs1007"}},[a("marker",{attrs:{id:"SvgjsMarker1012",markerWidth:"14",markerHeight:"10",refX:"10",refY:"5",viewBox:"0 0 14 10",orient:"auto",markerUnits:"userSpaceOnUse","stroke-dasharray":"0,0"}},[a("path",{attrs:{id:"SvgjsPath1013",d:"M0,0 L14,5 L0,10 L0,0",fill:"#323232",stroke:"#323232","stroke-width":"1"}})]),a("marker",{attrs:{id:"SvgjsMarker1036",markerWidth:"14",markerHeight:"10",refX:"10",refY:"5",viewBox:"0 0 14 10",orient:"auto",markerUnits:"userSpaceOnUse","stroke-dasharray":"0,0"}},[a("path",{attrs:{id:"SvgjsPath1037",d:"M0,0 L14,5 L0,10 L0,0",fill:"#323232",stroke:"#323232","stroke-width":"1"}})]),a("marker",{attrs:{id:"SvgjsMarker1054",markerWidth:"14",markerHeight:"10",refX:"10",refY:"5",viewBox:"0 0 14 10",orient:"auto",markerUnits:"userSpaceOnUse","stroke-dasharray":"0,0"}},[a("path",{attrs:{id:"SvgjsPath1055",d:"M0,0 L14,5 L0,10 L0,0",fill:"#323232",stroke:"#323232","stroke-width":"1"}})]),a("marker",{attrs:{id:"SvgjsMarker1072",markerWidth:"14",markerHeight:"10",refX:"10",refY:"5",viewBox:"0 0 14 10",orient:"auto",markerUnits:"userSpaceOnUse","stroke-dasharray":"0,0"}},[a("path",{attrs:{id:"SvgjsPath1073",d:"M0,0 L14,5 L0,10 L0,0",fill:"#323232",stroke:"#323232","stroke-width":"1"}})]),a("marker",{attrs:{id:"SvgjsMarker1090",markerWidth:"14",markerHeight:"10",refX:"10",refY:"5",viewBox:"0 0 14 10",orient:"auto",markerUnits:"userSpaceOnUse","stroke-dasharray":"0,0"}},[a("path",{attrs:{id:"SvgjsPath1091",d:"M0,0 L14,5 L0,10 L0,0",fill:"#323232",stroke:"#323232","stroke-width":"1"}})])]),a("g",{attrs:{id:"SvgjsG1008"}},[a("path",{attrs:{id:"SvgjsPath1009",d:"M27.600006103515625 119.09999084472656L353.6000061035156 119.09999084472656L353.6000061035156 119.09999084472656L679.6000061035156 119.09999084472656",stroke:"#323232","stroke-width":"2",fill:"none"}})]),a("g",{attrs:{id:"SvgjsG1010"}},[a("path",{attrs:{id:"SvgjsPath1011",d:"M84.60000610351562 163.09999084472656L84.96660525891582 123.59983733558778",stroke:"#323232","stroke-width":"2",fill:"none","marker-end":"url(#SvgjsMarker1012)"}})]),a("g",{attrs:{id:"SvgjsG1014",transform:"translate(25.000015258789062,78.99999237060547)"}},[a("path",{attrs:{id:"SvgjsPath1015",d:"M 0 0L 120 0L 120 41L 0 41Z",stroke:"none",fill:"none"}}),a("g",{attrs:{id:"SvgjsG1016"}},[a("text",{attrs:{id:"SvgjsText1017","font-family":"微软雅黑","text-anchor":"middle","font-size":"16px",width:"120px",fill:"#ff0000","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"middle",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"6.5",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1018",dy:"20",x:"60"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1019"}},[t._v("Redis 2.6")])])])])]),a("g",{attrs:{id:"SvgjsG1020",transform:"translate(25.000015258789062,171.99999237060547)"}},[a("path",{attrs:{id:"SvgjsPath1021",d:"M 0 0L 120 0L 120 41L 0 41Z",stroke:"none",fill:"none"}}),a("g",{attrs:{id:"SvgjsG1022"}},[a("text",{attrs:{id:"SvgjsText1023","font-family":"微软雅黑","text-anchor":"middle","font-size":"16px",width:"120px",fill:"#388e3c","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"middle",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"-3.5",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1024",dy:"20",x:"60"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1025"}},[t._v("2012年10月")])]),a("tspan",{attrs:{id:"SvgjsTspan1026",dy:"20",x:"60"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1027"}},[t._v("支持lua脚本")])])])])]),a("g",{attrs:{id:"SvgjsG1028",transform:"translate(132.00001525878906,121.99999237060547)"}},[a("path",{attrs:{id:"SvgjsPath1029",d:"M 0 0L 120 0L 120 41L 0 41Z",stroke:"none",fill:"none"}}),a("g",{attrs:{id:"SvgjsG1030"}},[a("text",{attrs:{id:"SvgjsText1031","font-family":"微软雅黑","text-anchor":"middle","font-size":"16px",width:"120px",fill:"#ff0000","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"middle",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"6.5",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1032",dy:"20",x:"60"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1033"}},[t._v("Redis 3.0")])])])])]),a("g",{attrs:{id:"SvgjsG1034"}},[a("path",{attrs:{id:"SvgjsPath1035",d:"M191.60000610351562 72.09999084472656L191.60000610351562 115.09999084472656",stroke:"#323232","stroke-width":"2",fill:"none","marker-end":"url(#SvgjsMarker1036)"}})]),a("g",{attrs:{id:"SvgjsG1038",transform:"translate(132.00001525878906,24.99999237060547)"}},[a("path",{attrs:{id:"SvgjsPath1039",d:"M 0 0L 120 0L 120 41L 0 41Z",stroke:"none",fill:"none"}}),a("g",{attrs:{id:"SvgjsG1040"}},[a("text",{attrs:{id:"SvgjsText1041","font-family":"微软雅黑","text-anchor":"middle","font-size":"16px",width:"120px",fill:"#0000ff","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"middle",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"-3.5",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1042",dy:"20",x:"60"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1043"}},[t._v("2015年4月")])]),a("tspan",{attrs:{id:"SvgjsTspan1044",dy:"20",x:"60"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1045"}},[t._v("官方集群方案")])])])])]),a("g",{attrs:{id:"SvgjsG1046",transform:"translate(241.60000610351562,78.99999237060547)"}},[a("path",{attrs:{id:"SvgjsPath1047",d:"M 0 0L 120 0L 120 41L 0 41Z",stroke:"none",fill:"none"}}),a("g",{attrs:{id:"SvgjsG1048"}},[a("text",{attrs:{id:"SvgjsText1049","font-family":"微软雅黑","text-anchor":"middle","font-size":"16px",width:"120px",fill:"#ff0000","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"middle",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"6.5",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1050",dy:"20",x:"60"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1051"}},[t._v("Redis 4.0")])])])])]),a("g",{attrs:{id:"SvgjsG1052"}},[a("path",{attrs:{id:"SvgjsPath1053",d:"M301.6000061035156 161.09999084472656L301.6000061035156 124.09999084472656",stroke:"#323232","stroke-width":"2",fill:"none","marker-end":"url(#SvgjsMarker1054)"}})]),a("g",{attrs:{id:"SvgjsG1056",transform:"translate(208.60000610351562,171.99999237060547)"}},[a("path",{attrs:{id:"SvgjsPath1057",d:"M 0 0L 209 0L 209 41L 0 41Z",stroke:"none",fill:"none"}}),a("g",{attrs:{id:"SvgjsG1058"}},[a("text",{attrs:{id:"SvgjsText1059","font-family":"微软雅黑","text-anchor":"middle","font-size":"16px",width:"209px",fill:"#9e791d","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"middle",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"-3.5",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1060",dy:"20",x:"104.5"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1061"}},[t._v("2017年7月")])]),a("tspan",{attrs:{id:"SvgjsTspan1062",dy:"20",x:"104.5"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1063"}},[t._v("混合持久化、多线程异步删除")])])])])]),a("g",{attrs:{id:"SvgjsG1064",transform:"translate(398.6000061035156,121.99999237060547)"}},[a("path",{attrs:{id:"SvgjsPath1065",d:"M 0 0L 120 0L 120 41L 0 41Z",stroke:"none",fill:"none"}}),a("g",{attrs:{id:"SvgjsG1066"}},[a("text",{attrs:{id:"SvgjsText1067","font-family":"微软雅黑","text-anchor":"middle","font-size":"16px",width:"120px",fill:"#ff0000","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"middle",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"6.5",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1068",dy:"20",x:"60"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1069"}},[t._v("Redis 5.0")])])])])]),a("g",{attrs:{id:"SvgjsG1070"}},[a("path",{attrs:{id:"SvgjsPath1071",d:"M451.6000061035156 72.09999084472656L451.6000061035156 115.09999084472656",stroke:"#323232","stroke-width":"2",fill:"none","marker-end":"url(#SvgjsMarker1072)"}})]),a("g",{attrs:{id:"SvgjsG1074",transform:"translate(392.6000061035156,24.99999237060547)"}},[a("path",{attrs:{id:"SvgjsPath1075",d:"M 0 0L 120 0L 120 41L 0 41Z",stroke:"none",fill:"none"}}),a("g",{attrs:{id:"SvgjsG1076"}},[a("text",{attrs:{id:"SvgjsText1077","font-family":"微软雅黑","text-anchor":"middle","font-size":"16px",width:"120px",fill:"#d32f2f","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"middle",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"-3.5",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1078",dy:"20",x:"60"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1079"}},[t._v("2018年10月")])]),a("tspan",{attrs:{id:"SvgjsTspan1080",dy:"20",x:"60"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1081"}},[t._v("核心代码重构")])])])])]),a("g",{attrs:{id:"SvgjsG1082",transform:"translate(542.0000152587891,78.99999237060547)"}},[a("path",{attrs:{id:"SvgjsPath1083",d:"M 0 0L 120 0L 120 41L 0 41Z",stroke:"none",fill:"none"}}),a("g",{attrs:{id:"SvgjsG1084"}},[a("text",{attrs:{id:"SvgjsText1085","font-family":"微软雅黑","text-anchor":"middle","font-size":"16px",width:"120px",fill:"#ff0000","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"middle",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"6.5",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1086",dy:"20",x:"60"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1087"}},[t._v("Redis 6.0")])])])])]),a("g",{attrs:{id:"SvgjsG1088"}},[a("path",{attrs:{id:"SvgjsPath1089",d:"M601.6000061035156 161.09999084472656L601.6000061035156 124.09999084472656",stroke:"#323232","stroke-width":"2",fill:"none","marker-end":"url(#SvgjsMarker1090)"}})]),a("g",{attrs:{id:"SvgjsG1092",transform:"translate(542.0000152587891,171.99999237060547)"}},[a("path",{attrs:{id:"SvgjsPath1093",d:"M 0 0L 120 0L 120 41L 0 41Z",stroke:"none",fill:"none"}}),a("g",{attrs:{id:"SvgjsG1094"}},[a("text",{attrs:{id:"SvgjsText1095","font-family":"微软雅黑","text-anchor":"middle","font-size":"16px",width:"120px",fill:"#388e3c","font-weight":"400",align:"middle",lineHeight:"125%",anchor:"middle",family:"微软雅黑",size:"16px",weight:"400","font-style":"",opacity:"1",y:"-3.5",transform:"rotate(0)"}},[a("tspan",{attrs:{id:"SvgjsTspan1096",dy:"20",x:"60"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1097"}},[t._v("2020年5月")])]),a("tspan",{attrs:{id:"SvgjsTspan1098",dy:"20",x:"60"}},[a("tspan",{staticStyle:{},attrs:{id:"SvgjsTspan1099"}},[t._v("多线程IO")])])])])])]),t._v(" "),a("p",{staticStyle:{"text-align":"center",color:"#888"}},[t._v("（Redis 里程碑版本迭代时间轴和重大改进）")])]),t._v(" "),a("p",[t._v("Redis 经历了很多版本，不过目前推荐用 6.0 及以上的版本。")]),t._v(" "),a("hr"),t._v(" "),a("p",[a("strong",[t._v("Redis 特点")]),t._v("：")]),t._v(" "),a("ul",[a("li",[t._v("优秀的性能，数据是存储在内存中，读写速度非常快，可支持并发 10W QPS。\n"),a("ul",[a("li",[t._v("QPS（Queries Per Second）：每秒查询率。")])])]),t._v(" "),a("li",[t._v("单线程但进程，是线程安全的，采用 IO 多路复用制。")]),t._v(" "),a("li",[t._v("可作为分布式锁。")]),t._v(" "),a("li",[t._v("支持五种数据类型。")]),t._v(" "),a("li",[t._v("支持数据持久化到磁盘。")]),t._v(" "),a("li",[t._v("可以作为消息中间件使用，支持消息发布及订阅。")])]),t._v(" "),a("p",[t._v("10W QPS 这个测试结果未经考验，是网上查的，但理论上是能达到上万的。")]),t._v(" "),a("hr"),t._v(" "),a("p",[a("strong",[t._v("Redis 应用场景")]),t._v("：")]),t._v(" "),a("ul",[a("li",[t._v("为热点数据加速查询（主要场景）。如热点商品，热点新闻等高访问信息。")]),t._v(" "),a("li",[t._v("任务队列，如秒杀，抢购。")]),t._v(" "),a("li",[t._v("即时信息查询，例如排行榜、在线人数等。")]),t._v(" "),a("li",[t._v("时效性信息控制，如验证码。")]),t._v(" "),a("li",[t._v("消息队列")]),t._v(" "),a("li",[t._v("分布式锁")])]),t._v(" "),a("div",{staticStyle:{"text-align":"right"}},[a("svg",{staticClass:"icon",attrs:{t:"1651213212000",viewBox:"0 0 1173 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1281",width:"64",height:"64"}},[a("path",{attrs:{d:"M1.914402 656.839666L0 789.329468l516.178817 226.592549s55.03905 26.933652 151.072702-17.559685c60.369668-28.055887 505.89716-236.560641 505.897159-236.560641v-126.548555s0.775663 16.850036-12.872701 24.441629-543.69009 239.547768-543.69009 239.547767-43.024528 14.737593-80.223334 0.544615c-13.202771-5.033556-93.195056-42.182852-198.2396-87.781921-151.171723-65.601266-326.108432-139.421257-326.108432-139.421257s-8.845856-7.608097-10.100119-15.744303z",fill:"#A42122","p-id":"1282"}}),a("path",{attrs:{d:"M534.530668 426.797893s78.061381-32.792381 148.333127 0 477.808265 188.931646 477.808265 188.931646 35.911536 29.706234-14.06095 51.540315-538.706044 235.768475-538.706045 235.768475-45.268999 17.180105-110.853762-18.731431C433.611991 849.567108 38.519083 684.796532 12.757177 674.052778a6.436351 6.436351 0 0 1-2.475519-1.765871c-5.660688-6.287819-28.055887-35.564963 26.141485-54.989539 60.897779-21.867089 498.107525-190.499475 498.107525-190.499475z",fill:"#D82F27","p-id":"1283"}}),a("path",{attrs:{d:"M1.914402 450.6619L0 583.151703l516.178817 226.592549S571.217867 836.727414 667.251519 792.168063c60.369668-28.055887 505.89716-236.560641 505.897159-236.56064V429.091874s0.775663 16.850036-12.872701 24.441629S616.585887 693.147284 616.585887 693.147284s-43.024528 14.737593-80.223334 0.544615c-13.202771-5.033556-93.195056-42.182852-198.2396-87.781921-151.171723-65.601266-326.108432-139.421257-326.108432-139.421257s-8.845856-7.690614-10.100119-15.826821z",fill:"#A42122","p-id":"1284"}}),a("path",{attrs:{d:"M534.530668 220.686141s78.061381-32.792381 148.333127 0S1160.67206 409.617787 1160.67206 409.617787s35.911536 29.706234-14.06095 51.540316-538.706044 235.768475-538.706045 235.768475-45.268999 17.180105-110.853762-18.731431C433.611991 643.455357 38.519083 478.684781 12.757177 467.941026a6.436351 6.436351 0 0 1-2.475519-1.76587c-5.660688-6.287819-28.055887-35.564963 26.141485-54.98954 60.897779-21.867089 498.107525-190.499475 498.107525-190.499475z",fill:"#D82F27","p-id":"1285"}}),a("path",{attrs:{d:"M1.914402 244.550149L0 377.039951l516.178817 226.592549s55.03905 26.933652 151.072702-17.559684c60.369668-28.055887 505.89716-236.560641 505.897159-236.560641v-126.482542s0.775663 16.850036-12.872701 24.425125S616.585887 487.01903 616.585887 487.01903s-43.024528 14.737593-80.223334 0.544614c-13.202771-4.951039-93.195056-42.182852-198.2396-87.781921-151.171723-65.601266-326.108432-139.421257-326.108432-139.421256s-8.845856-7.608097-10.100119-15.810318z",fill:"#A42122","p-id":"1286"}}),a("path",{attrs:{d:"M534.530668 14.57439s78.061381-32.792381 148.333127 0 477.808265 188.931646 477.808265 188.931646 35.911536 29.706234-14.06095 51.540316S607.905065 490.814826 607.905065 490.814826s-45.268999 17.180105-110.853762-18.731431C433.611991 437.343606 38.519083 272.573029 12.757177 261.829275a6.436351 6.436351 0 0 1-2.475519-1.765871c-5.660688-6.287819-28.055887-35.564963 26.141485-54.989539C97.320922 183.190273 534.530668 14.57439 534.530668 14.57439z",fill:"#D82F27","p-id":"1287"}}),a("path",{attrs:{d:"M195.681563 239.929179a152.244448 63.505326 0 1 0 304.488895 0 152.244448 63.505326 0 1 0-304.488895 0Z",fill:"#FFFFFF","p-id":"1288"}}),a("path",{attrs:{d:"M526.708027 66.098202l20.299259 45.285503-79.629209 34.36021 119.650107 10.925293 25.563865 59.32995 26.554072-60.897779h92.122331l-68.703917-35.911536 18.731431-43.717674-67.136088 21.867089-87.451851-31.241056zM422.092574 339.362545l192.067304 85.884022 76.510055-121.795558-268.577359 35.911536z",fill:"#FFFFFF","p-id":"1289"}}),a("path",{attrs:{d:"M860.870149 169.162329L690.669933 239.929179l170.200216 63.52183V169.162329z",fill:"#AD2524","p-id":"1290"}}),a("path",{attrs:{d:"M1010.771104 228.492279l-149.900955-59.32995v134.28868l149.900955-74.95873z",fill:"#791514","p-id":"1291"}})])])])}),[],!1,null,null,null);s.default=e.exports}}]);