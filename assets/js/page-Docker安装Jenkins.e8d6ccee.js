(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{1031:function(s,n,e){"use strict";e.r(n);var t=e(1),a=Object(t.a)({},(function(){var s=this,n=s.$createElement,t=s._self._c||n;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"docker-安装-jenkins"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-安装-jenkins"}},[s._v("#")]),s._v(" Docker 安装 Jenkins")]),s._v(" "),t("h2",{attrs:{id:"安装步骤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装步骤"}},[s._v("#")]),s._v(" 安装步骤")]),s._v(" "),t("ul",[t("li",[s._v("下载 Jenkins 镜像")])]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull jenkins/jenkins\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[s._v("在 Linux 服务器中创建个目录用于后面做目录映射")])]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p /var/jenkins_mount\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("777")]),s._v(" /var/jenkins_mount\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("ul",[t("li",[s._v("创建容器")])]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run -d -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v(":8080 -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5000")]),s._v(":50000 -v /var/jenkins_mount:/var/jenkins_home -v /etc/localtime:/etc/localtime --name myjenkins jenkins/jenkins\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("创建成功后，查看")]),s._v(" "),t("div",{staticClass:"language-shell script line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@VM-16-7-centos ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker ps")]),s._v("\nCONTAINER ID   IMAGE                 COMMAND                  CREATED         STATUS         PORTS                                                                                             NAMES\n044b1cd93ce8   jenkins/jenkins:lts   "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/sbin/tini -- /usr/…"')]),s._v("   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),s._v(" seconds ago   Up "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" seconds   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:5000-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5000")]),s._v("/tcp, :::5000-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5000")]),s._v("/tcp, "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0:8080-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("/tcp, :::8080-"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("/tcp, "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("50000")]),s._v("/tcp   myjenkins\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("ul",[t("li",[s._v("配置镜像加速\n进入 /var/jenkins_mount 目录，修改 hudson.model.UpdateCenter.xml 里的内容")])]),s._v(" "),t("p",[s._v("将 url 修改为 https://mirrors.tuna.tsinghua.edu.cn/jenkins/updates/update-center.json")]),s._v(" "),t("ul",[t("li",[s._v("访问 Jenkins 页面，使用 IP:8080")])]),s._v(" "),t("p",[t("img",{attrs:{src:e(504),alt:"jenkins"}})]),s._v(" "),t("p",[s._v("打开上图中提示的 /var/jenkins_mount/secrets/initialAdminPassword 文件获取密码")]),s._v(" "),t("p",[s._v("输入密码，并确定")]),s._v(" "),t("ul",[t("li",[s._v("进入安装插件页，这里选择第一种种方式，并选择推荐的插件安装")])]),s._v(" "),t("p",[s._v("插件安装完成后，后面按照提示的进行就行啦")]),s._v(" "),t("ul",[t("li",[s._v("Jenkins 安装完成后，成功进入界面")])]),s._v(" "),t("p",[t("img",{attrs:{src:e(505),alt:"jenkins"}})]),s._v(" "),t("p",[s._v("（完）")])])}),[],!1,null,null,null);n.default=a.exports},504:function(s,n,e){s.exports=e.p+"assets/img/jenkins1.05dd0358.png"},505:function(s,n,e){s.exports=e.p+"assets/img/jenkins2.eb84c1e8.png"}}]);