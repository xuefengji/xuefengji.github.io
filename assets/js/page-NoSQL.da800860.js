(window.webpackJsonp=window.webpackJsonp||[]).push([[103],{1165:function(v,_,s){"use strict";s.r(_);var t=s(1),a=Object(t.a)({},(function(){var v=this,_=v.$createElement,t=v._self._c||_;return t("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[t("h1",{attrs:{id:"nosql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nosql"}},[v._v("#")]),v._v(" NoSQL")]),v._v(" "),t("h2",{attrs:{id:"为什么要使用-nosql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#为什么要使用-nosql"}},[v._v("#")]),v._v(" 为什么要使用 NoSQL")]),v._v(" "),t("h3",{attrs:{id:"发展历程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#发展历程"}},[v._v("#")]),v._v(" 发展历程")]),v._v(" "),t("h4",{attrs:{id:"单机-mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#单机-mysql"}},[v._v("#")]),v._v(" 单机 MySQL")]),v._v(" "),t("p",[v._v("90 年代 一个网站的访问量一般不会太大，单个数据库完全够用")]),v._v(" "),t("p",[t("img",{attrs:{src:s(618),alt:"redis"}})]),v._v(" "),t("p",[v._v("但随着用户增多，会出现以下问题：")]),v._v(" "),t("ul",[t("li",[v._v("数据量增加到一定程度，单机数据库就放不下了")]),v._v(" "),t("li",[v._v("数据的索引（B+ Tree）,一个机器内存也存放不下")]),v._v(" "),t("li",[v._v("访问量变大后（读写混合），一台服务器承受不住")])]),v._v(" "),t("p",[v._v("为了解决上述的问题，可以加入缓存和将表垂直拆分")]),v._v(" "),t("h4",{attrs:{id:"memcached-缓存-mysql-垂直拆分-读写分离"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#memcached-缓存-mysql-垂直拆分-读写分离"}},[v._v("#")]),v._v(" Memcached(缓存) + Mysql + 垂直拆分（读写分离）")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("网站 80% 的情况都是在读，每次都要去查询数据库的话就十分的麻烦")])]),v._v(" "),t("li",[t("p",[v._v("希望减轻数据库的压力，可以使用缓存来保证效率")])])]),v._v(" "),t("p",[t("img",{attrs:{src:s(619),alt:"redis"}})]),v._v(" "),t("p",[t("strong",[v._v("优化过程经历了以下几个过程")]),v._v("：")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("优化数据库的数据结构和索引(难度大)")])]),v._v(" "),t("li",[t("p",[v._v("文件缓存，通过 IO 流获取比每次都访问数据库效率略高，但是流量爆炸式增长时候，IO 流也承受不了")])]),v._v(" "),t("li",[t("p",[v._v("MemCache，通过在数据库和数据库访问层之间加上一层缓存，第一次访问时查询数据库，将结果保存到缓存，后续的查询先检查缓存，若有直接拿去使用，效率显著提升")])])]),v._v(" "),t("h4",{attrs:{id:"分库分表-水平拆分-mysql-集群"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#分库分表-水平拆分-mysql-集群"}},[v._v("#")]),v._v(" 分库分表 + 水平拆分 + Mysql 集群")]),v._v(" "),t("p",[t("img",{attrs:{src:s(620),alt:"redis"}})]),v._v(" "),t("h3",{attrs:{id:"为什么要用nosql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#为什么要用nosql"}},[v._v("#")]),v._v(" 为什么要用NoSQL")]),v._v(" "),t("p",[v._v("目前一个基本的互联网项目")]),v._v(" "),t("p",[t("img",{attrs:{src:s(621),alt:"redis"}})]),v._v(" "),t("ul",[t("li",[v._v("如今信息量井喷式增长，各种各样的数据出现（用户定位数据，图片数据等）")]),v._v(" "),t("li",[v._v("用户的个人信息，社交网络，地理位置")]),v._v(" "),t("li",[v._v("用户自己产生的数据，用户日志等等爆发式增长")])]),v._v(" "),t("p",[v._v("这时候就需要使用 NoSQL 数据库的，NoSQL 可以很好的处理以上的情况")]),v._v(" "),t("h2",{attrs:{id:"什么是-nosql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#什么是-nosql"}},[v._v("#")]),v._v(" 什么是 NoSQL")]),v._v(" "),t("p",[t("strong",[v._v("NoSQL = Not Only SQL（不仅仅是SQL）")])]),v._v(" "),t("p",[v._v("关系型数据库：列+行，同一个表下数据的结构是一样的")]),v._v(" "),t("p",[v._v("非关系型数据库：数据存储没有固定的格式，并且可以进行横向扩展")]),v._v(" "),t("p",[v._v("NoSQL 泛指非关系型数据库")]),v._v(" "),t("h2",{attrs:{id:"nosql-的特点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nosql-的特点"}},[v._v("#")]),v._v(" NoSQL 的特点")]),v._v(" "),t("ul",[t("li",[t("p",[v._v("方便扩展：数据之间没有关系，很好扩展")])]),v._v(" "),t("li",[t("p",[v._v("大数据量高性能：Redis 一秒可以写 8 万次，读 11 万次，NoSQL 的缓存记录级，是一种细粒度的缓存，性能会比较高")])]),v._v(" "),t("li",[t("p",[v._v("数据类型是多样型的：不需要事先设计数据库，随取随用")])]),v._v(" "),t("li",[t("p",[v._v("传统的 RDBMS 和 NoSQL")])])]),v._v(" "),t("p",[v._v("**传统的 RDBMS **：")]),v._v(" "),t("ul",[t("li",[v._v("结构化组织")]),v._v(" "),t("li",[v._v("SQL")]),v._v(" "),t("li",[v._v("数据和关系都存在单独的表中")]),v._v(" "),t("li",[v._v("严格的一致性")]),v._v(" "),t("li",[v._v("基础的事务")]),v._v(" "),t("li",[v._v(".....")])]),v._v(" "),t("p",[v._v("**NoSQL **：")]),v._v(" "),t("ul",[t("li",[v._v("不仅仅是数据")]),v._v(" "),t("li",[v._v("没有固定的查询语言")]),v._v(" "),t("li",[v._v("键值对存储、列存储、文档存储、图形存储")]),v._v(" "),t("li",[v._v("最终一致性")]),v._v(" "),t("li",[v._v("高性能、高可用、高扩展")]),v._v(" "),t("li",[v._v(".....")])]),v._v(" "),t("h2",{attrs:{id:"nosql-的四大分类"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nosql-的四大分类"}},[v._v("#")]),v._v(" NoSQL 的四大分类")]),v._v(" "),t("h3",{attrs:{id:"kv-键值对"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kv-键值对"}},[v._v("#")]),v._v(" KV 键值对")]),v._v(" "),t("ul",[t("li",[v._v("新浪："),t("strong",[v._v("Redis")])]),v._v(" "),t("li",[v._v("美团：Redis + Tair")]),v._v(" "),t("li",[v._v("阿里、百度：Redis + Memcache")])]),v._v(" "),t("h3",{attrs:{id:"文档型数据库-bson-格式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#文档型数据库-bson-格式"}},[v._v("#")]),v._v(" 文档型数据库(bson 格式)")]),v._v(" "),t("ul",[t("li",[v._v("MongoDB\n"),t("ul",[t("li",[v._v("基于分布式文件存储的数据库")]),v._v(" "),t("li",[v._v("C++编写，用于处理大量文档")]),v._v(" "),t("li",[v._v("MongoDB 是 RDBMS 和 NoSQL 的中间产品")]),v._v(" "),t("li",[v._v("MongoDB 是非关系型数据库中功能最丰富的，NoSQL 中最像关系型数据库的数据库")])])]),v._v(" "),t("li",[v._v("ConthDB")])]),v._v(" "),t("h3",{attrs:{id:"列存储数据库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#列存储数据库"}},[v._v("#")]),v._v(" 列存储数据库")]),v._v(" "),t("ul",[t("li",[v._v("HBase(大数据必学)")]),v._v(" "),t("li",[v._v("分布式文件系统")])]),v._v(" "),t("h3",{attrs:{id:"图关系数据库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#图关系数据库"}},[v._v("#")]),v._v(" 图关系数据库")]),v._v(" "),t("ul",[t("li",[v._v("用于广告推荐，社交网络")]),v._v(" "),t("li",[t("strong",[v._v("Neo4j")]),v._v("、InfoGrid")])]),v._v(" "),t("p",[v._v("（完）")])])}),[],!1,null,null,null);_.default=a.exports},618:function(v,_,s){v.exports=s.p+"assets/img/1.eef5da79.png"},619:function(v,_,s){v.exports=s.p+"assets/img/2.7a60ecc9.png"},620:function(v,_,s){v.exports=s.p+"assets/img/3.94f490e3.png"},621:function(v,_,s){v.exports=s.p+"assets/img/4.85fa1680.png"}}]);