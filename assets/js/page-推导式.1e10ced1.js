(window.webpackJsonp=window.webpackJsonp||[]).push([[275],{1179:function(s,a,n){"use strict";n.r(a);var e=n(1),t=Object(e.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"推导式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#推导式"}},[s._v("#")]),s._v(" 推导式")]),s._v(" "),n("h2",{attrs:{id:"列表推导式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#列表推导式"}},[s._v("#")]),s._v(" 列表推导式")]),s._v(" "),n("p",[s._v("一种快速生成列表的方式")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("lis = [x * x for x in range(1, 10)]\n\nprint(lis)\n------------------------------------\n结果：[1, 4, 9, 16, 25, 36, 49, 64, 81]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[n("strong",[s._v("运行过程：")])]),s._v(" "),n("ul",[n("li",[s._v("首先执行 for 循环，对每一个 x，代入 x*x 中进行运算")]),s._v(" "),n("li",[s._v("将运算结果逐一添加到一个新列表内，循环结束，得到最终列表")])]),s._v(" "),n("p",[s._v("相当于：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("lis = []\nfor i in range(1, 10):\n    lis.append(i*i)\n\nprint(lis)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[n("strong",[s._v("用法：")])]),s._v(" "),n("ul",[n("li",[n("p",[s._v("增加条件语句")]),s._v(" "),n("p",[s._v("条件语句在最后面")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v(">>> [x * x for x in range(1, 11) if x % 2 == 0]\n[4, 16, 36, 64, 100]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("嵌套循环")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v(">>> [a + b for a in ‘123' for b in ‘abc']\n['1a', '1b', '1c', '2a', '2b', '2c', '3a', '3b', '3c']\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])])]),s._v(" "),n("li",[n("p",[s._v("更多语法")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('>>> dic = {"k1":"v1","k2":"v2"}\n>>> a = [k+":"+v for k,v in dic.items()]\n>>> a\n[\'k1:v1\', \'k2:v2\']\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])])])]),s._v(" "),n("h2",{attrs:{id:"字典推导式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#字典推导式"}},[s._v("#")]),s._v(" 字典推导式")]),s._v(" "),n("p",[s._v("与列表推导式类似，使用 {} 生成")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v(">>> dic = {x: x**2 for x in (2, 4, 6)}\n>>> dic\n{2: 4, 4: 16, 6: 36}\n>>> type(dic)\n<class 'dict'>\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[n("strong",[s._v("注意：")]),s._v(" "),n("code",[s._v("x: x**2")]),s._v("的写法，中间的冒号，表示左边的是key右边的是value")]),s._v(" "),n("h2",{attrs:{id:"集合推导式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#集合推导式"}},[s._v("#")]),s._v(" 集合推导式")]),s._v(" "),n("p",[s._v("同样使用 {} 生成")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v(">> a = {x for x in 'abracadabra' if x not in 'abc'}\n>>> a\n{'d', 'r'}\n>>> type(a)\n<class 'set'>\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[n("strong",[s._v("面试题：")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("result = [lambda x: x + i for i in range(10)]\nprint(result[0](10))\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("你以为的：10")]),s._v(" "),n("p",[s._v("实际上的：19，且result"),n("code",[s._v("[0~9](10)")]),s._v("都是19")]),s._v(" "),n("p",[n("strong",[s._v("原因：")])]),s._v(" "),n("p",[s._v("由于列表内返回的是匿名函数，即在循环结束后是：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("result = [lambda x: x + i,lambda x: x + i.....]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("使用 result"),n("code",[s._v("[0](10)")]),s._v(" 调用时，此时需要找 i 的值，由于此时循环已完成，值为 9，所以值为 19")]),s._v(" "),n("p",[s._v("（完）")])])}),[],!1,null,null,null);a.default=t.exports}}]);