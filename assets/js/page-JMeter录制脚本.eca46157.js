(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{1339:function(t,v,_){"use strict";_.r(v);var e=_(1),r=Object(e.a)({},(function(){var t=this,v=t.$createElement,e=t._self._c||v;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"jmeter-录制脚本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#jmeter-录制脚本"}},[t._v("#")]),t._v(" JMeter 录制脚本")]),t._v(" "),e("p",[t._v("需要使用 JMeter 的代理服务")]),t._v(" "),e("h2",{attrs:{id:"代理服务界面"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#代理服务界面"}},[t._v("#")]),t._v(" 代理服务界面：")]),t._v(" "),e("p",[t._v("测试计划中邮件添加非测试元件：")]),t._v(" "),e("p",[e("img",{attrs:{src:_(875),alt:"proxy"}})]),t._v(" "),e("p",[t._v("参数说明：")]),t._v(" "),e("p",[e("strong",[t._v("State")]),t._v("：")]),t._v(" "),e("p",[t._v("代理服务器的状态")]),t._v(" "),e("p",[e("strong",[t._v("Global Settings")]),t._v("：")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("参数")]),t._v(" "),e("th",[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("Port")]),t._v(" "),e("td",[t._v("JMeter 作为代理服务器的端口号")])]),t._v(" "),e("tr",[e("td",[t._v("HTTPS Domains")]),t._v(" "),e("td",[t._v("添加 HTTPS 请求的域名，如果有多个用 , 隔开")])])])]),t._v(" "),e("p",[e("strong",[t._v("Test Plan Creation")]),t._v("：")]),t._v(" "),e("p",[t._v("test plan content：")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("参数")]),t._v(" "),e("th",[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("Target Controller")]),t._v(" "),e("td",[t._v("录制脚本保存的节点")])]),t._v(" "),e("tr",[e("td",[t._v("Grouping")]),t._v(" "),e("td",[t._v("分组方式："),e("br"),t._v("不对样本分组，请求什么就记录什么"),e("br"),t._v("在组间添加分隔，每一个 sampler 结束都会有分隔符间隔开"),e("br"),t._v("每个组放入一个控制器，在每个 sampler 请求开始时会生成一个简单控制器"),e("br"),t._v("只存储每个组的第一个样本，每个 sampler 请求时，如果有子请求，不会记录子请求"),e("br"),t._v("每个 sampler 请求开始时会生成一个事务控制器")])]),t._v(" "),e("tr",[e("td",[t._v("Capture HTTP Header")]),t._v(" "),e("td",[t._v("勾选，请求时会记录 HTTP 信息头")])]),t._v(" "),e("tr",[e("td",[t._v("Add Assertions")]),t._v(" "),e("td",[t._v("勾选，请求时会记录断言")])]),t._v(" "),e("tr",[e("td",[t._v("Regex matching")]),t._v(" "),e("td",[t._v("正则表达式匹配")])])])]),t._v(" "),e("p",[t._v("HTTP Sampler settings:")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("参数")]),t._v(" "),e("th",[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("Transaction name")]),t._v(" "),e("td")]),t._v(" "),e("tr",[e("td",[t._v("Naming scheme")]),t._v(" "),e("td")]),t._v(" "),e("tr",[e("td",[t._v("Counter start value")]),t._v(" "),e("td")]),t._v(" "),e("tr",[e("td",[t._v("Create new transaction after request(ms)")]),t._v(" "),e("td")]),t._v(" "),e("tr",[e("td",[t._v("Recording`s default encoding")]),t._v(" "),e("td")]),t._v(" "),e("tr",[e("td",[t._v("Retrieve All Embedded Resources")]),t._v(" "),e("td")]),t._v(" "),e("tr",[e("td",[t._v("Redirect Automatically")]),t._v(" "),e("td")]),t._v(" "),e("tr",[e("td",[t._v("Follow Redirects")]),t._v(" "),e("td")]),t._v(" "),e("tr",[e("td",[t._v("Use KeepAlive")]),t._v(" "),e("td")]),t._v(" "),e("tr",[e("td",[t._v("Type")]),t._v(" "),e("td")])])]),t._v(" "),e("p",[t._v("GraphQL HTTP Sampler settings:")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("参数")]),t._v(" "),e("th",[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("Delete GraphQL Request")]),t._v(" "),e("td")])])]),t._v(" "),e("p",[e("strong",[t._v("Requests Filtering")]),t._v(":")]),t._v(" "),e("p",[t._v("Content-type filter:")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("参数")]),t._v(" "),e("th",[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("Include")]),t._v(" "),e("td",[t._v("Content-type 包含模式，填的是正则表达式")])]),t._v(" "),e("tr",[e("td",[t._v("Exclude")]),t._v(" "),e("td",[t._v("Content-type 排除模式，填的是正则表达式")])])])]),t._v(" "),e("p",[t._v("URL Patterns to Include:")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("参数")]),t._v(" "),e("th",[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("URL Patterns to Include")]),t._v(" "),e("td",[t._v("URL 模式包含")])])])]),t._v(" "),e("p",[t._v("URL Patterns to Exclude:")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("参数")]),t._v(" "),e("th",[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("URL Patterns to Exclude")]),t._v(" "),e("td")])])]),t._v(" "),e("p",[t._v("Notify Child Listeners of filtered samplers:")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("参数")]),t._v(" "),e("th",[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("Notify Child Listeners of filtered samplers")]),t._v(" "),e("td",[t._v("后台监听 sampler，app 后台运行时有请求时需要勾选")])])])]),t._v(" "),e("h2",{attrs:{id:"录制实例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#录制实例"}},[t._v("#")]),t._v(" 录制实例")]),t._v(" "),e("p",[t._v("以录制移动端脚本为例")]),t._v(" "),e("ul",[e("li",[t._v("代理端口号设置为 8888，HTTPS Domain 为 localhost（代表运行 JMeter 的机器作为代理服务器），其余设置默认，点击 start 按钮启动")])]),t._v(" "),e("p",[e("img",{attrs:{src:_(876),alt:"proxy"}})]),t._v(" "),e("ul",[e("li",[e("p",[t._v("设置移动端代理")]),t._v(" "),e("p",[e("strong",[t._v("注意")]),t._v("：移动端连接的网络必须要和代理服务器在"),e("strong",[t._v("同一网络")])]),t._v(" "),e("p",[e("img",{attrs:{src:_(877),alt:"proxy"}})])]),t._v(" "),e("li",[e("p",[t._v("设置完成后，进行录制，可以在 Thread Group 下生成脚本，可以对录制的脚本进行回放")]),t._v(" "),e("p",[e("img",{attrs:{src:_(878),alt:"proxy"}})])])]),t._v(" "),e("p",[t._v("代理录制 Web 端时，同样需要设置浏览器代理")])])}),[],!1,null,null,null);v.default=r.exports},875:function(t,v,_){t.exports=_.p+"assets/img/proxy1.86be81e7.png"},876:function(t,v,_){t.exports=_.p+"assets/img/proxy2.8f40651b.png"},877:function(t,v,_){t.exports=_.p+"assets/img/proxy3.04b22b86.png"},878:function(t,v,_){t.exports=_.p+"assets/img/proxy4.2805b585.png"}}]);