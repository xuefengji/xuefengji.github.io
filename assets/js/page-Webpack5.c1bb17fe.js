(window.webpackJsonp=window.webpackJsonp||[]).push([[88],{222:function(e,v,t){e.exports=t.p+"assets/img/webpack.ebebf71f.png"},728:function(e,v,t){"use strict";t.r(v);var a=t(1),_=Object(a.a)({},(function(){var e=this,v=e.$createElement,a=e._self._c||v;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"webpack5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack5"}},[e._v("#")]),e._v(" Webpack5")]),e._v(" "),a("blockquote",[a("p",[e._v("本系列主要针对 Webpack5 进行知识点梳理，该版本目前（2021 年）是最新稳定版。")])]),e._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[e._v("TODO...")]),e._v(" "),a("p",[e._v("有些内容还是使用了废弃的特性，这个系列计划在有时间的时候重新整理撰写。"),a("br"),e._v("\n由于接下来有其它学习安排，目前可以先参考 "),a("a",{attrs:{href:"https://github.com/wenyuan/webpack-template",target:"_blank",rel:"noopener noreferrer"}},[e._v("webpack-template"),a("OutboundLink")],1),e._v("，这个仓库是按照最新的官方文档搭建的 Webpack5 通用配置模板。")])]),e._v(" "),a("p",[a("strong",[e._v("Webpack 是什么？")])]),e._v(" "),a("p",[e._v("简单的说，Webpack 用于编译 JavaScript 模块，它是一个模块打包工具。")]),e._v(" "),a("p",[e._v("打包工具帮你获得一些准备用于部署的 js 和 css 等，把它们转化为适合浏览器的可用的格式。")]),e._v(" "),a("p",[e._v("通过压缩、分离、懒加载等，来提升性能，提高开发效率。")]),e._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("img",{attrs:{src:t(222),alt:"Webpack"}}),e._v(" "),a("p",{staticStyle:{"text-align":"center",color:"#888"}},[e._v("（Webpack，图来源于官网文档）")])]),e._v(" "),a("hr"),e._v(" "),a("p",[a("strong",[e._v("Webpack 不是什么？")])]),e._v(" "),a("p",[e._v("Webpack 不是任务执行的工具，它不能自动化的处理一些常见的开发任务，例如代码检测、构建、测试。这些都是一些重复性比较强的事情，一般偏重于上层的问题。")]),e._v(" "),a("p",[e._v("任务执行工具：grunt、gulp。")]),e._v(" "),a("p",[a("strong",[e._v("为什么要学习 Webpack？")])]),e._v(" "),a("p",[e._v("早期，在浏览器里运行 js，有二种方式：")]),e._v(" "),a("ol",[a("li",[e._v("直接引用 js 脚本程序，有多少个 js，就引用多少个 .js 文件；")]),e._v(" "),a("li",[e._v("直接一个大的 .js 文件，包含所有的 js 代码，但是文件大小体积就不可控。")])]),e._v(" "),a("p",[e._v("后来，出现了使用立即执行函数表达式（IIFE）的方式，这种方式主要是用来解决大型项目的作用域的问题。针对这种做法，有一些工具 grunt、gulp，它们都是任务执行器，更多做的是项目文件的拼接。这类工具优化代码的能力比较弱，很难判断某个 js 方法是否被重复的引用，或是否未被引用。")]),e._v(" "),a("p",[e._v("Node.js 出来后，就出现了 JavaScript 的模块化开发。主要是引入了 require 机制，允许你在当前文件中加载和使用某个模块。")]),e._v(" "),a("p",[e._v("Webpack 最出色的功能，是它还可以引入任何其它类型的文件，包括非 js 类型的文件，可以用来引用应用程序中的所有的非 js 的内容，例如图片、css 等。Webpack 把这些都视为模块，这样每个模块都可以通过相互的引用（依赖）来表明它们之间的关系，就可以避免打包未使用的模块（资源）。")]),e._v(" "),a("p",[e._v("这就是 Webpack 存在的原因，也是学习 Webpack 的原因。")]),e._v(" "),a("hr"),e._v(" "),a("p",[a("strong",[e._v("Webpack5 和 Webpack4 有什么区别?")])]),e._v(" "),a("p",[e._v("Webpack5 主要是内部效率的优化，对比 Webpack4，没有太多使用上的改动。")]),e._v(" "),a("p",[e._v("升级 Webpack5 以及周边插件后，代码需要做出的调整：")]),e._v(" "),a("ul",[a("li",[e._v("package.json 的 dev-server 命令\n"),a("ul",[a("li",[e._v("老版本："),a("code",[e._v('"dev": "webpack-dev-server --config build/webpack.dev.js",')])]),e._v(" "),a("li",[e._v("新版本："),a("code",[e._v('"dev": "webpack serve --config build/webpack.dev.js"')])])])]),e._v(" "),a("li",[e._v("拆分配置文件后，引入 webpack-merge 的方法名\n"),a("ul",[a("li",[e._v("老版本："),a("code",[e._v("const { smart } = require('webpack-merge')")])]),e._v(" "),a("li",[e._v("新版本："),a("code",[e._v("const { merge } = require('webpack-merge')")])])])]),e._v(" "),a("li",[a("code",[e._v("webpack.prod.js")]),e._v(" 中 CleanWebpackPlugin 方法的引入方式\n"),a("ul",[a("li",[e._v("老版本："),a("code",[e._v("const CleanWebpackPlugin = require('clean-webpack-plugin')")])]),e._v(" "),a("li",[e._v("新版本："),a("code",[e._v("const { CleanWebpackPlugin } = require('clean-webpack-plugin')")])])])]),e._v(" "),a("li",[a("code",[e._v("module.rules")]),e._v(" 中 loader 的调用方式\n"),a("ul",[a("li",[e._v("老版本："),a("code",[e._v("loader: ['xxx-loader']")])]),e._v(" "),a("li",[e._v("新版本："),a("code",[e._v("use: ['xxx-loader']")])])])]),e._v(" "),a("li",[a("code",[e._v("webpack.prod.js")]),e._v(" 的 "),a("code",[e._v("output")]),e._v(" 中 hash 的写法\n"),a("ul",[a("li",[e._v("老版本："),a("code",[e._v("filename: 'bundle.[contentHash:8].js'")])]),e._v(" "),a("li",[e._v("新版本："),a("code",[e._v("filename: 'bundle.[contenthash:8].js'")]),e._v(" 其中 "),a("code",[e._v("h")]),e._v(" 小写，不能大写")])])])]),e._v(" "),a("hr"),e._v(" "),a("p",[e._v("关于 Webpack5 的知识点，主要参考：")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://webpack.js.org",target:"_blank",rel:"noopener noreferrer"}},[e._v("官方文档"),a("OutboundLink")],1)])]),e._v(" "),a("div",{staticStyle:{"text-align":"right"}},[a("svg",{staticClass:"icon",attrs:{t:"1622560522153",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3671",width:"64",height:"64"}},[a("path",{attrs:{d:"M882.23288889 749.45422222L526.90488889 950.38577778V793.94133333l221.41155556-121.856 133.91644444 77.36888889z m24.34844444-22.07288889V307.08622222l-129.93422222 75.09333333v270.22222223l129.93422222 74.97955555z m-766.17955555 22.07288889l355.328 201.04533333V793.94133333L274.20444445 672.08533333l-133.80266667 77.36888889zM116.05333333 727.38133333V307.08622222l129.93422222 75.09333333v270.22222223L116.05333333 727.38133333z m15.24622222-447.60177778l364.43022223-206.16533333v151.32444445L262.144 353.39377778l-1.82044445 1.024c0 0.11377778-129.024-74.63822222-129.024-74.63822223z m760.03555556 0L526.90488889 73.728v151.32444445l233.472 128.34133333 1.82044444 1.024 129.13777778-74.63822223z",fill:"#8ED6FB","p-id":"3672"}}),a("path",{attrs:{d:"M495.72977778 758.21511111l-218.45333333-120.14933333V400.15644445l218.45333333 126.17955555v231.87911111z m31.17511111 0l218.45333333-120.03555556V400.15644445l-218.45333333 126.17955555v231.87911111zM291.95377778 372.62222222l219.24977777-120.49066667L730.45333333 372.62222222 511.31733333 499.25688889 291.95377778 372.62222222z",fill:"#1C78C0","p-id":"3673"}})])])])}),[],!1,null,null,null);v.default=_.exports}}]);