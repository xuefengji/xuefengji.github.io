(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{1015:function(s,t,e){"use strict";e.r(t);var r=e(1),a=Object(r.a)({},(function(){var s=this,t=s.$createElement,r=s._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[r("h1",{attrs:{id:"docker-镜像制作"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#docker-镜像制作"}},[s._v("#")]),s._v(" Docker 镜像制作")]),s._v(" "),r("p",[r("strong",[s._v("必须文件")]),s._v("：Dockerfile")]),s._v(" "),r("p",[s._v("以安装 JPress 为例")]),s._v(" "),r("ul",[r("li",[r("p",[s._v("下载 tomacat")]),s._v(" "),r("p",[s._v("docker pull hub.c.163.com/library/tomcat:latest")])]),s._v(" "),r("li",[r("p",[s._v("编写 Dockerfile")])])]),s._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[s._v("from hub.c.163.com/library/tomcat #将tomcat作为底层镜像\n\nMAINTAINER xuefeng   #制作者信息\n\nCOPY jpress.war /usr/local/tomcat/webapps 将jpress.war文件拷贝至tomcat的webaps下\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br"),r("span",{staticClass:"line-number"},[s._v("4")]),r("br"),r("span",{staticClass:"line-number"},[s._v("5")]),r("br")])]),r("ul",[r("li",[r("p",[s._v("docker build -t jpress .")]),s._v(" "),r("p",[s._v("在 Dockerfile 文件所在目录进行 build")])]),s._v(" "),r("li",[r("p",[s._v("运行镜像")]),s._v(" "),r("p",[s._v("docker run -d -p 8888:8080 jpress")]),s._v(" "),r("p",[s._v("访问 8888 端口：")]),s._v(" "),r("p",[r("img",{attrs:{src:e(446),alt:"tomcat"}})]),s._v(" "),r("p",[s._v("访问 jpress")]),s._v(" "),r("p",[r("img",{attrs:{src:e(447),alt:"jpress"}})])]),s._v(" "),r("li",[r("p",[s._v("安装 mysql 数据库")]),s._v(" "),r("p",[s._v("docker pull hub.c.163.com/library/mysql:latest")]),s._v(" "),r("p",[s._v("docker run -d -p 3306:3306 -e MYSQL_ROOT_PASSWORD=000000 -e MYSQL_DATABASE=jpress hub.c.163.com/library/mysql")])]),s._v(" "),r("li",[r("p",[s._v("下一步填写 mysql 信息")])])]),s._v(" "),r("p",[r("img",{attrs:{src:e(448),alt:"安装向导"}})]),s._v(" "),r("ul",[r("li",[r("p",[s._v("重启 jpress 容器")]),s._v(" "),r("p",[s._v("docker restart 13")]),s._v(" "),r("p",[s._v("重新加载网页：")]),s._v(" "),r("p",[r("img",{attrs:{src:e(449),alt:"jpress1"}})])])]),s._v(" "),r("p",[s._v("（完）")])])}),[],!1,null,null,null);t.default=a.exports},446:function(s,t,e){s.exports=e.p+"assets/img/tomcat.19d9a435.jpg"},447:function(s,t,e){s.exports=e.p+"assets/img/jpress.9fbb0632.jpg"},448:function(s,t,e){s.exports=e.p+"assets/img/安装向导.152521fa.jpg"},449:function(s,t,e){s.exports=e.p+"assets/img/jpress1.5868eabe.jpg"}}]);