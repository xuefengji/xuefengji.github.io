(window.webpackJsonp=window.webpackJsonp||[]).push([[342],{1050:function(s,a,e){"use strict";e.r(a);var t=e(1),v=Object(t.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"账号管理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#账号管理"}},[s._v("#")]),s._v(" 账号管理")]),s._v(" "),e("ul",[e("li",[s._v("Linux 系统是一个多用户多任务的分时操作系统，任何一个要使用系统资源的用户，都必须首先向系统管理员申请一个账号，然后以这个账号的身份进入系统")]),s._v(" "),e("li",[s._v("用户的账号一方面可以帮助系统管理员对使用系统的用户进行跟踪，并控制他们对系统资源的访问；另一方面也可以帮助用户组织文件，并为用户提供安全性保护")]),s._v(" "),e("li",[s._v("每个用户账号都拥有一个唯一的用户名和各自的口令")]),s._v(" "),e("li",[s._v("用户在登录时键入正确的用户名和口令后，就能够进入系统和自己的主目录")]),s._v(" "),e("li",[s._v("实现用户账号的管理，要完成的工作主要有如下几个方面：\n"),e("ul",[e("li",[s._v("用户账号的添加、删除与修改")]),s._v(" "),e("li",[s._v("用户口令的管理")]),s._v(" "),e("li",[s._v("用户组的管理")])])])]),s._v(" "),e("h2",{attrs:{id:"用户账号的管理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#用户账号的管理"}},[s._v("#")]),s._v(" 用户账号的管理")]),s._v(" "),e("ul",[e("li",[s._v("用户账号的管理工作主要涉及到用户账号的添加、修改和删除")]),s._v(" "),e("li",[s._v("添加用户账号就是在系统中创建一个新账号，然后为新账号分配用户号、用户组、主目录和登录 Shell 等资源")])]),s._v(" "),e("h3",{attrs:{id:"useradd-添加账号"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#useradd-添加账号"}},[s._v("#")]),s._v(" useradd  添加账号")]),s._v(" "),e("p",[e("strong",[s._v("语法")]),s._v("：")]),s._v(" "),e("div",{staticClass:"language-shell script line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" 选项 用户名\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("strong",[s._v("选项")]),s._v(" :")]),s._v(" "),e("ul",[e("li",[s._v("-c ：comment 指定一段注释性描述")]),s._v(" "),e("li",[s._v("-d ：目录 指定用户主目录，如果此目录不存在，则同时使用 -m 选项，可以创建主目录")]),s._v(" "),e("li",[s._v("-g ：用户组 指定用户所属的用户组")]),s._v(" "),e("li",[s._v("-G ：用户组，用户组 指定用户所属的附加组")]),s._v(" "),e("li",[s._v("-m：使用者目录如不存在则自动建立")]),s._v(" "),e("li",[s._v("-s ：Shell 文件 指定用户的登录 Shell")]),s._v(" "),e("li",[s._v("-u ：用户号 指定用户的用户号，如果同时有 -o 选项，则可以重复使用其他用户的标识号")])]),s._v(" "),e("p",[e("strong",[s._v("示例")]),s._v("：")]),s._v(" "),e("div",{staticClass:"language-shell script line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 此命令创建了一个用户 snowji，其中-m选项用来为登录名 snowji 产生一个主目录 /home/kuangshen")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@VM-16-7-centos home"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# useradd -m snowji")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("增加用户账号就是在 "),e("code",[s._v("/etc/passwd")]),s._v(" 文件中为新用户增加一条记录，同时更新其他系统文件如 "),e("code",[s._v("/etc/shadow")]),s._v(", "),e("code",[s._v("/etc/group")]),s._v(" 等")]),s._v(" "),e("h3",{attrs:{id:"linux-下切换用户"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#linux-下切换用户"}},[s._v("#")]),s._v(" Linux 下切换用户")]),s._v(" "),e("ul",[e("li",[s._v("切换用户的命令为："),e("code",[s._v("su username")])]),s._v(" "),e("li",[s._v("从普通用户切换到 root 用户，还可以使用命令："),e("code",[s._v("sudo su")])]),s._v(" "),e("li",[s._v("在终端输入 exit 或 logout 或使用快捷方式 "),e("code",[s._v("ctrl+d")]),s._v("，可以退回到原来用户，其实 "),e("code",[s._v("ctrl+d")]),s._v(" 也是执行的 exit 命令")]),s._v(" "),e("li",[s._v("在切换用户时，如果想在切换用户之后使用新用户的工作环境，可以在 su 和 username 之间加"),e("code",[s._v("-")]),s._v("，如：【su - root】")]),s._v(" "),e("li",[e("code",[s._v("$")]),s._v("表示普通用户")]),s._v(" "),e("li",[e("code",[s._v("#")]),s._v("表示超级用户，也就是 root 用户")])]),s._v(" "),e("h3",{attrs:{id:"删除帐号"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#删除帐号"}},[s._v("#")]),s._v(" 删除帐号")]),s._v(" "),e("p",[s._v("删除用户账号就是要将 "),e("code",[s._v("/etc/passwd")]),s._v(" 等系统文件中的该用户记录删除，必要时还删除用户的主目录")]),s._v(" "),e("p",[s._v("删除一个已有的用户账号使用 userdel 命令，其格式如下：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("userdel")]),s._v(" 选项 用户名\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("常用的选项是 -r，它的作用是把用户的主目录一起删除")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@VM-16-7-centos home"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# userdel -r snowji")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("此命令删除用户 snowji在系统文件中（主要是 "),e("code",[s._v("/etc/passwd")]),s._v("、"),e("code",[s._v("/etc/shadow")]),s._v("、"),e("code",[s._v("/etc/group")]),s._v(" 等）的记录，同时删除用户的主目录")]),s._v(" "),e("h3",{attrs:{id:"修改帐号"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改帐号"}},[s._v("#")]),s._v(" 修改帐号")]),s._v(" "),e("p",[s._v("修改用户账号就是根据实际情况更改用户的有关属性，如用户号、主目录、用户组、登录 Shell 等。")]),s._v(" "),e("p",[s._v("修改已有用户的信息使用 usermod 命令，其格式如下：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("usermod")]),s._v(" 选项 用户名\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("strong",[s._v("常用的选项")]),s._v(":")]),s._v(" "),e("ul",[e("li",[s._v("-c：comment 指定一段注释性描述")]),s._v(" "),e("li",[s._v("-d：目录 指定用户主目录，如果此目录不存在，则同时使用 -m 选项，可以创建主目录")]),s._v(" "),e("li",[s._v("-m：使用者目录如不存在则自动建立")]),s._v(" "),e("li",[s._v("-g：指定用户所属的用户组")]),s._v(" "),e("li",[s._v("-G：用户组，用户组 指定用户所属的附加组")]),s._v(" "),e("li",[s._v("-s：Shell 文件 指定用户的登录 Shell")]),s._v(" "),e("li",[s._v("-u：指定用户的用户号，如果同时有 -o 选项，则可以重复使用其他用户的标识号")])]),s._v(" "),e("p",[s._v("例如：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#usermod -s /bin/ksh -d /home/z –g developer snowji")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("此命令将用户 snowji 的登录 Shell 修改为 ksh，主目录改为 "),e("code",[s._v("/home/z")]),s._v("，用户组改为 developer")]),s._v(" "),e("h3",{attrs:{id:"设置用户密码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#设置用户密码"}},[s._v("#")]),s._v(" 设置用户密码")]),s._v(" "),e("ul",[e("li",[s._v("用户管理的一项重要内容是用户口令的管理，用户账号刚创建时没有口令，但是被系统锁定，无法使用，必须为其指定口令后才可以使用，即使是指定空口令")]),s._v(" "),e("li",[s._v("指定和修改用户口令的 Shell 命令是 passwd，超级用户可以为自己和其他用户指定口令，普通用户只能用它修改自己的口令")])]),s._v(" "),e("p",[e("strong",[s._v("语法")]),s._v("：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("passwd")]),s._v(" 选项 用户名\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("strong",[s._v("可使用的选项")]),s._v("：")]),s._v(" "),e("ul",[e("li",[s._v("-l ：锁定口令，即禁用账号")]),s._v(" "),e("li",[s._v("-u： 口令解锁")]),s._v(" "),e("li",[s._v("-d ：使账号无口令")]),s._v(" "),e("li",[s._v("-f ：强迫用户下次登录时修改口令")])]),s._v(" "),e("p",[s._v("如果默认用户名，则修改当前用户的口令")]),s._v(" "),e("p",[s._v("例如：")]),s._v(" "),e("p",[s._v("假设当前用户是 snowji，则下面的命令修改该用户自己的口令：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("passwd")]),s._v("\nOld password:******\nNew password:*******\nRe-enter new password:*******\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("p",[s._v("如果是超级用户，可以用下列形式指定任何用户的口令：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#passwd snowji")]),s._v("\nNew password:*******\nRe-enter new password:*******\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("ul",[e("li",[s._v("普通用户修改自己的口令时，passwd 命令会先询问原口令，验证后再要求用户输入两遍新口令，如果两次输入的口令一致，则将这个口令指定给用户")]),s._v(" "),e("li",[s._v("而超级用户为用户指定口令时，就不需要知道原口令")]),s._v(" "),e("li",[s._v("为了系统安全起见，用户应该选择比较复杂的口令，例如最好使用 8 位长的口令，口令中包含有大写、小写字母和数字，并且应该与姓名、生日等不相同")])]),s._v(" "),e("p",[s._v("为用户指定空口令时，执行下列形式的命令：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#passwd -d snowji")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("此命令将用户 snowji 的口令删除，这样用户 snowji 下一次登录时，系统就不再允许该用户登录了")]),s._v(" "),e("p",[s._v("passwd 命令还可以用 "),e("code",[s._v("-l(lock)")]),s._v(" 选项锁定某一用户，使其不能登录，例如：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#passwd -l snowji")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])])}),[],!1,null,null,null);a.default=v.exports}}]);