(window.webpackJsonp=window.webpackJsonp||[]).push([[154],{1007:function(t,a,s){"use strict";s.r(a);var e=s(1),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"docker-cp"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-cp"}},[t._v("#")]),t._v(" docker cp")]),t._v(" "),e("p",[t._v("作用：在宿主机与容器中相互复制文件/文件夹")]),t._v(" "),e("h2",{attrs:{id:"语法格式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#语法格式"}},[t._v("#")]),t._v(" 语法格式")]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("docker cp [OPTIONS] CONTAINER:SRC_PATH DEST_PATH\ndocker cp [OPTIONS] SRC_PATH CONTAINER:DEST_PATH\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])]),e("h4",{attrs:{id:"options-说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#options-说明"}},[t._v("#")]),t._v(" options 说明")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("option")]),t._v(" "),e("th",[t._v("作用")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("-a")]),t._v(" "),e("td",[t._v("存档模式（复制所有 uid / gid 信息）")])]),t._v(" "),e("tr",[e("td",[t._v("-L")]),t._v(" "),e("td",[t._v("保持源目标中的链接")])])])]),t._v(" "),e("p",[e("strong",[t._v("重点")]),t._v(":")]),t._v(" "),e("ul",[e("li",[t._v("容器 container 可以是正在运行或已停止的容器")]),t._v(" "),e("li",[t._v("SRC_PATH 或 DEST_PATH 可以是文件或目录")]),t._v(" "),e("li",[t._v("该命令会假定容器路径相对于容器的 /（根）目录")]),t._v(" "),e("li",[t._v("而主机路径则是相对于执行 docker cp 命令的当前目录")])]),t._v(" "),e("h2",{attrs:{id:"src-path-和-dest-path"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#src-path-和-dest-path"}},[t._v("#")]),t._v(" SRC_PATH 和 DEST_PATH")]),t._v(" "),e("h3",{attrs:{id:"src-path-指定一个文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#src-path-指定一个文件"}},[t._v("#")]),t._v(" SRC_PATH 指定一个文件")]),t._v(" "),e("h4",{attrs:{id:"若-dest-path-不存在"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#若-dest-path-不存在"}},[t._v("#")]),t._v(" 若 DEST_PATH 不存在")]),t._v(" "),e("p",[t._v("创建 DEST_PATH 所需的文件夹，文件正常保存到 DEST_PATH 中")]),t._v(" "),e("h4",{attrs:{id:"若-dest-path-不存在-并以-结尾"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#若-dest-path-不存在-并以-结尾"}},[t._v("#")]),t._v(" 若 DEST_PATH 不存在，并以 / 结尾")]),t._v(" "),e("p",[t._v("错误：目标目录必须存在")]),t._v(" "),e("h4",{attrs:{id:"若-dest-path-存在并且是一个文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#若-dest-path-存在并且是一个文件"}},[t._v("#")]),t._v(" 若 DEST_PATH 存在并且是一个文件")]),t._v(" "),e("p",[t._v("目标被源文件的内容覆盖")]),t._v(" "),e("h4",{attrs:{id:"若-dest-path-存在并且是目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#若-dest-path-存在并且是目录"}},[t._v("#")]),t._v(" 若 DEST_PATH 存在并且是目录")]),t._v(" "),e("p",[t._v("使用 SRC_PATH 中的基本名称将文件复制到此目录中")]),t._v(" "),e("h3",{attrs:{id:"src-path指定目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#src-path指定目录"}},[t._v("#")]),t._v(" SRC_PATH指定目录")]),t._v(" "),e("h4",{attrs:{id:"若-dest-path-不存在-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#若-dest-path-不存在-2"}},[t._v("#")]),t._v(" 若 DEST_PATH 不存在")]),t._v(" "),e("p",[t._v("将 DEST_PATH 创建为目录，并将源目录的内容复制到该目录中")]),t._v(" "),e("h4",{attrs:{id:"若-dest-path存在并且是一个文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#若-dest-path存在并且是一个文件"}},[t._v("#")]),t._v(" 若 DEST_PATH存在并且是一个文件")]),t._v(" "),e("p",[t._v("错误：无法将目录复制到文件")]),t._v(" "),e("h4",{attrs:{id:"若-dest-path存在并且是目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#若-dest-path存在并且是目录"}},[t._v("#")]),t._v(" 若 DEST_PATH存在并且是目录")]),t._v(" "),e("ul",[e("li",[t._v("SRC_PATH 不以 /. 结尾，源目录复制到此目录")]),t._v(" "),e("li",[t._v("SRC_PATH 以 /. 结尾，源目录的内容被复制到该目录中")])]),t._v(" "),e("h2",{attrs:{id:"实例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#实例"}},[t._v("#")]),t._v(" 实例")]),t._v(" "),e("h3",{attrs:{id:"从容器复制文件到主机"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#从容器复制文件到主机"}},[t._v("#")]),t._v(" 从容器复制文件到主机")]),t._v(" "),e("p",[t._v("复制容器的目录到主机")]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("docker cp nginx01:etc/ ./\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[e("img",{attrs:{src:s(418),alt:"top"}})]),t._v(" "),e("h3",{attrs:{id:"从主机复制文件到容器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#从主机复制文件到容器"}},[t._v("#")]),t._v(" 从主机复制文件到容器")]),t._v(" "),e("p",[t._v("复制主机文件到容器")]),t._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("docker cp text.txt nginx01:/\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[e("img",{attrs:{src:s(419),alt:"top"}})]),t._v(" "),e("h2",{attrs:{id:"参考资料"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[t._v("#")]),t._v(" 参考资料")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://docs.docker.com/engine/reference/commandline/cp/",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方文档"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("（完）")])])}),[],!1,null,null,null);a.default=r.exports},418:function(t,a,s){t.exports=s.p+"assets/img/7.b47fb51a.png"},419:function(t,a,s){t.exports=s.p+"assets/img/cp1.aefe09ee.png"}}]);