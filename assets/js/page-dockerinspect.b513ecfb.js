(window.webpackJsonp=window.webpackJsonp||[]).push([[157],{1009:function(t,s,e){"use strict";e.r(s);var a=e(1),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"docker-inspect"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-inspect"}},[t._v("#")]),t._v(" docker inspect")]),t._v(" "),a("p",[t._v("作用：获取容器的元数据（JSON 格式）")]),t._v(" "),a("h2",{attrs:{id:"语法格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#语法格式"}},[t._v("#")]),t._v(" 语法格式")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("docker inspect [OPTIONS] NAME|ID [NAME|ID...]\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("options 说明")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("option")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("-f,--format")]),t._v(" "),a("td",[t._v("指定返回值的模板文件")])]),t._v(" "),a("tr",[a("td",[t._v("-s,--size")]),t._v(" "),a("td",[t._v("如果类型为容器，则显示文件总大小")])]),t._v(" "),a("tr",[a("td",[t._v("--type")]),t._v(" "),a("td",[t._v("返回指定类型的 JSON")])])])]),t._v(" "),a("h2",{attrs:{id:"实例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实例"}},[t._v("#")]),t._v(" 实例")]),t._v(" "),a("h3",{attrs:{id:"获取-nginx-的元数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取-nginx-的元数据"}},[t._v("#")]),t._v(" 获取 Nginx 的元数据")]),t._v(" "),a("p",[a("img",{attrs:{src:e(425),alt:"inspect"}})]),t._v(" "),a("h3",{attrs:{id:"获取-ip-地址"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取-ip-地址"}},[t._v("#")]),t._v(" 获取 IP 地址")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v(" docker inspect --format='{{range .NetworkSettings.Networks}}{{.IPAddress}}{{end}}' $INSTANCE_ID\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:e(426),alt:"inspect"}})]),t._v(" "),a("p",[t._v("更简单的方式：")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("docker inspect nginx01 | grep IPAddress\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:e(427),alt:"inspect"}})]),t._v(" "),a("h3",{attrs:{id:"获取指定端口映射"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取指定端口映射"}},[t._v("#")]),t._v(" 获取指定端口映射")]),t._v(" "),a("p",[t._v("使用 index")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("docker inspect --format='{{(index (index .NetworkSettings.Ports \"80/tcp\") 0).HostPort}}' $INSTANCE_ID\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:e(428),alt:"inspect"}})]),t._v(" "),a("h3",{attrs:{id:"获取配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取配置"}},[t._v("#")]),t._v(" 获取配置")]),t._v(" "),a("p",[t._v("使用 json 格式")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v(" docker inspect --format='{{json .Config}}' $INSTANCE_ID\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:e(429),alt:"inspect"}})]),t._v(" "),a("p",[t._v("输出的结果不太友好，可以使用 Python 中的 json.tool 或 jq 美化输出")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('#使用 Python 的 json 模块美化\n\ndocker inspect --format="{{json .Config}}" container | python -m json.tool\n\n#使用 jq 美化\n\ndocker inspect --format="{{json .Config}}" container | jq\n')])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("p",[a("img",{attrs:{src:e(430),alt:"inspect"}})]),t._v(" "),a("h2",{attrs:{id:"参考资料"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[t._v("#")]),t._v(" 参考资料")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://docs.docker.com/engine/reference/commandline/inspect/",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方文档"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("（完）")])])}),[],!1,null,null,null);s.default=n.exports},425:function(t,s,e){t.exports=e.p+"assets/img/inspect1.84173800.png"},426:function(t,s,e){t.exports=e.p+"assets/img/inspect2.9800e017.png"},427:function(t,s,e){t.exports=e.p+"assets/img/inspect3.56a9d177.png"},428:function(t,s,e){t.exports=e.p+"assets/img/inspect4.65a2328a.png"},429:function(t,s,e){t.exports=e.p+"assets/img/inspect5.a484bdc4.png"},430:function(t,s,e){t.exports=e.p+"assets/img/inspect6.6c4cba85.png"}}]);